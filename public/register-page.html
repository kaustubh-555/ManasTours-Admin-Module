<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="./styles/loginPageStyle.css.css">
</head>
<body>
  <section class="main">
    <div class="background-image">
        <img src="./images/your-image.png" alt="Background Image" width="500">
    </div>
    <div class="register-container">
        <h2>Register</h2>
        <form id="registrationForm">
          <label for="username">Username</label>
          <input type="text" name="username" id="username" placeholder="Username" style="width: 300px; padding: 5px; margin-bottom: 10px;">
          <label for="password">Password</label>
          <input type="password" name="password" id="password" placeholder="Password" style="width: 300px; padding: 5px; margin-bottom: 10px;">
          <label for="confirm-password">Confirm Password</label>
          <input type="password" name="confirm-password" id="confirm-password" placeholder="Confirm Password" style="width: 300px; padding: 5px; margin-bottom: 10px;">
          <button type="submit">Register</button>
      </form>
    </div>
</section>
    

    <script>
        document.getElementById('registrationForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the default form submission

            // Get form data
            // const formData = new FormData(document.getElementById('registrationForm'));
            formData={
              "username": document.getElementById('username').value,
              "password": document.getElementById('password').value}

            // Construct HTTP request
            fetch('/register', {
              method: 'POST',
              headers: {'Content-Type': 'application/json'},
              body: JSON.stringify(formData)  
            })
            .then(response => {
                // Redirect to index.html on successful registration
                return response.json();
            }).then(data => {
                if (data.status) {
                    window.location.href = '/index.html';
                } else {
                    alert(data.message);
                }
            });
            
        });
      </script>
      
</body>
</html>